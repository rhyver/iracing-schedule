---
import Layout from '../../layouts/Layout.astro';
import { db } from "astro:db";
import { Tracks } from "astro:db";

export async function getStaticPaths() {
    const tracks = await db.select().from(Tracks);

    return tracks.map((track) => ({
        params: {
            id: track.id.toString(),
            name: track.name
        },
        props: {
            id: track.id,
            name: track.name
        }
    }));
}

const track = Astro.props
console.log(track)
---

<Layout title={track.name}>
    <h1>Track: {track.name}</hjson>
    <p>Track ID: {track.id}</p>
</Layout>